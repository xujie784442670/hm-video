# 项目模块

| 序号 | 模块                        | 描述         | 作用                                           | 优先级 | 响应码范围  |
| ---- | --------------------------- | ------------ | ---------------------------------------------- | ------ | ----------- |
| 1    | video-commons               | 公共模块     | 存放所有模块都需要用的类,且不依赖任何第三方jar | 1      | 1-9999      |
| 2    | video-gateway               | 网关模块     | 整合后端所有服务的API,对前端提供统一接口调用   | 6      | 1-9999      |
| 3    | video-admin                 | 监控模块     | 对所有的服务器提供监控能力                     | 7      | 1-9999      |
| 4    | account-server              | 账号模块     | 提供账号,角色,权限的功能接口                   | 2      | 10000-10099 |
| 5    | video-interactions-server   | 视频交互模块 | 提供收藏,弹幕,评论,点赞,举报的功能接口         | 4      | 10100-10199 |
| 6    | statistics-server           | 统计模块     | 提供各项数据的统计功能接口                     | 5      | 10200-10299 |
| 7    | email-server                | 邮件服务     | 提供邮件相关的功能接口                         | 2      | 10300-10399 |
| 8    | account-interactions-server | 账号交互模块 | 提供关注的功能接口                             | 4      | 10400-10499 |
| 9    | im-server                   | 即时通讯模块 | 提供即时通讯接口                               | 5      | 10500-10599 |
| 10   | play-record-server          | 播放记录模块 | 提供播放记录功能接口                           | 4      | 10600-10699 |
| 11   | upload-server               | 文件上传模块 | 提供文件上传模块                               | 3      | 10700-10799 |
| 12   | video-server                | 视频模块     | 提供视频,视频类型查询服务                      | 3      | 10800-10899 |

# 账号模块

## 登录功能

>  请求地址: /user/login

### 参数

#### Params

| 参数名 | 默认值 | 类型   | 是否必传 | 描述                                |
| ------ | ------ | ------ | -------- | ----------------------------------- |
| type   |        | number | 是       | 登录类型: 0-账号密码登录,1-邮箱登录 |

#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| username |        | string | 是       | 用户名 |          |
| password |        | string | 是       | 密码   |          |

```json
{
    "username":"admin",
    "password":"123"
}
```

### 响应

```json
{
    "code":10000,  // 响应码
    "message":"成功", // 描述
    // 返回的数据
    "data":{
        // 用户信息
        "user":{
            "username":"admin", // 用户名
            "email":"xxxx@xx.xx", // 邮箱
            "avatar":"xxxxxxx" ,//头像
            "nickName":"小王",//用户昵称
        },
        // 用户拥有的角色代码列表
        "roles":["account","video"],
        // 用户拥有的权限代码列表
        "permissions":["account:find"],
        // 用户登录的令牌
        "token":"xxxxxxxx"
    }
}
```

### 响应码描述

| 响应码   | 描述     |
|-------|--------|
| 0     | 表示成功   |
| 10001 | 账号密码错误 |
| 10002 | 验证码错误  |

## 注册功能
>  请求地址: /user/register

### 参数

#### Body

| 参数名     | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| ---------- | ------ | ------ | -------- | ------ | -------- |
| account   |        | Account | 是       | 用户对象 |          |

```json
{
    "username":"admin",
    "password":"123",
    "nickname":"小王",
    "verifyCode":"4396",
    "email":"xxxx@xx.xx",
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"注册成功", // 描述
    
}
```

### 响应码描述

| 响应码 | 描述               |
| ------ | ------------------ |
| 0      | 表示注册成功       |
| 10011  | 验证码错误         |
| 10012  | 用户名或邮箱已存在 |
## 封禁账号功能

>  请求地址: /user/logicDeleteAccount

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| id |        | Long | 是       | 用户id |          |

```json
{
    "id":"1"
}
```

### 响应

```json
{
    "code":0,  // 响应码
    "message":"封禁成功", // 描述
    // 返回的数据
    }
}
```

### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 表示封禁成功 |
| 10021  | 表示封禁失败 |
## 查询用户功能

>  请求地址: /user/findDeatil

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| id |        | Long | 是       | 用户id |          |

```json
{
    "id":"1"
}
```

### 响应

```json
{
    "code":0,  // 响应码
    "message":"查询成功", // 描述
    // 返回的数据
    "data":{
        // 用户信息
        "user":{
        	"id":"1",//用户id
            "username":"admin", // 用户名
            "nickName":"小王",//用户昵称
            "avatar":"",//用户头像地址
            "email":"xxxx@xx.xx" // 邮箱
        }
    }
    }
}
```

### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 表示查询成功 |
| 10031  | 表示查询失败 |
## 查询用户总点赞，总关注，总粉丝功能

>  请求地址: /user/findDeatil

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| id |        | Long | 是       | 用户id |          |

```json
{
    "id":"1"
}
```

### 响应

```json
{
    "code":0,  // 响应码
    "message":"查询成功", // 描述
    // 返回的数据
    "data":{
        "numberoflikes":"200",//总点赞数
        "focus":"15",//总关注数
        "fans:"12",//总粉丝数
    }
    }
}
```

### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 表示查询成功 |
| 10041  | 表示查询失败 |
## 查询第二个用户是不是第一个用户粉丝功能

>  请求地址: /user/findstatus

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| userId |        | Long | 是       | 用户id |          |
| user2Id |        | Long | 是       | 用户2id |          |

```json
{
    "userId":"1",
    "user2Id":"2"
}
```

### 响应

```json
{
    "code":0,  // 响应码
    "message":"查询成功", // 描述
    // 返回的数据
    "data":"1" // 1：第二个用户是第一个用户粉丝 2：第二个用户不是第一个用户粉丝
    }
}
```
### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 表示查询成功 |
| 10051  | 表示查询失败 |
## 修改密码功能

>  请求地址: /user/updatePassword

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| account |        | Account | 是       | 用户对象 |          |
```json
{
    "username":"admin",
    "password":"123",
    "nickname":"小王",
    "verifyCode":"4396",
    "email":"xxxx@xx.xx",
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"密码修改成功", // 描述
    // 返回的数据
    
}
```
### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 密码修改成功 |
| 10061  | 密码修改失败 |
## 修改昵称功能

>  请求地址: /user/updateNickname

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| account |        | Account | 是       | 用户对象 |          |

```json
{
    "username":"admin",
    "password":"123",
    "nickname":"小王",
    "verifyCode":"4396",
    "email":"xxxx@xx.xx",
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"昵称修改成功", // 描述
    // 返回的数据
    
}
```
### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 密码昵称成功 |
| 10071  | 密码昵称失败 |
## 修改邮箱功能

>  请求地址: /user/updateEmail

### 参数
#### Body

| 参数名   | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| -------- | ------ | ------ | -------- | ------ | -------- |
| account |        | Account | 是       | 用户对象 |          |

```json
{
    "username":"admin",
    "password":"123",
    "nickname":"小王",
    "verifyCode":"4396",
    "email":"xxxx@xx.xx",
}
```

### 响应

```json
{
    "code":0,  // 响应码
    "message":"邮箱修改成功", // 描述
    // 返回的数据
    
}
```
### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 邮箱修改成功 |
| 10081  | 邮箱修改失败 |
# 视频交互模块

## 收藏视频功能

>  请求地址: /collection/insert

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| collections |        | Collections | 是       | 收藏对象 |          |

```json
{
    "accountId":"1",//收藏者id
    "videoId":"123",//视频id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"添加收藏成功", // 描述
    // 返回的数据
}
```

### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 添加收藏成功 |
| 10101  | 添加收藏失败 |
## 取消收藏视频功能

>  请求地址: /collection/delete

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| collections |        | Collections | 是       | 收藏对象 |          |

```json
{
    "accountId":"1",//收藏者id
    "videoId":"123",//视频id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"取消收藏成功", // 描述
    // 返回的数据
}
```

### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 取消收藏成功 |
| 10106  | 取消收藏失败 |
## 查询收藏记录

>  请求地址: /collection/findOne

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| collections |        | Collections | 是       | 收藏对象 |          |

```json
{
    "accountId":"1",//收藏者id
    "videoId":"123",//视频id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
}
```

### 响应码描述

| 响应码 | 描述         |
| ------ | ------------ |
| 0      | 查找收藏成功 |
| 10111  | 查找收藏失败 |
## 根据用户id查询所有收藏记录

>  请求地址: /collection/list

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| collections |        | Collections | 是       | 收藏对象 |          |

```json
{
    "accountId":"1",//收藏者id
    "videoId":"123",//视频id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
    "data":{
    // collections对象List集合
    ["accountId":"1","videoId":"2"],
    ["accountId":"1","videoId":"3"],
    ["accountId":"1","videoId":"4"],
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查找所有收藏成功 |
| 10116 | 查找所有收藏失败 |
## 根据条件查询所有弹幕

>  请求地址: /barrage/list

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| barrageQuery |        | BarrageQuery | 是       | 弹幕条件查询对象 |          |

```json
{
    "videoId":"123",//视频id
    "content":"太好看了",//弹幕内容
    "time":"1",//弹幕出现时间
    "accountId":"1",//弹幕发送者id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
    "data":{
    // barrages对象List集合
    ["id":"1","videoId":"2","content":"弹幕护体","time":"2","accountId":"1"],
    ["id":"2","videoId":"2","content":"弹幕护体","time":"3","accountId":"1"],
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查找所有弹幕成功 |
| 10120 | 查找所有弹幕失败 |
## 根据用户id查找用户发送的弹幕

>  请求地址: /barrage/list1

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| id |        | Long | 是       | 用户id |          |

```json
{
    "Id":"123",//用户id

}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
    "data":{
    // barrages对象List集合
    ["Content":"弹幕护体","nickName":"小王","Status":"1","BarrageId":"2","accountId":"1"],
    ["Content":"弹幕护体","nickName":"小夏","Status":"1","BarrageId":"3","accountId":"1"],
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查找成功 |
| 10125 | 查找弹幕失败 |
## 添加弹幕

>  请求地址: /barrage/insert

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| Barrage |        | Barrage | 是       | 弹幕对象 |          |

```json
{
    "videoId":"123",//视频id
    "content":"太好看了",//弹幕内容
    "time":"1",//弹幕出现时间
    "accountId":"1",//弹幕发送者id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"添加成功", // 描述
    // 返回的数据
    "data":{
    "videoId":"123",//视频id
    "content":"太好看了",//弹幕内容
    "time":"1",//弹幕出现时间
    "accountId":"1",//弹幕发送者id
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 添加成功 |
| 10130 | 添加弹幕失败 |
## 删除弹幕

>  请求地址: /barrage/delete

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| nickName |        | String | 是       | 用户昵称 |          |
| content |        | String | 是       | 弹幕内容 |          |
| barrageId |        | Long | 是       | 弹幕id |          |
| accountId |        | Long | 是       | 用户id |          |
| barrageTime |        | Date | 是       | 评论时间 |          |
| status |        | int | 是       | 弹幕状态 |          |

```json
{
    "nickName":"小王",//用户昵称
    "content":"太好看了",//弹幕内容
    "barrageId":"1",//弹幕id
    "accountId":"1",//弹幕发送者id
    "barrageTime":"2022-09-22 12:00:00",//弹幕id
    "status":"1",//弹幕状态
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"删除成功", // 描述
    // 返回的数据
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 删除成功 |
| 10135 | 删除失败 |
## 根据视频id查找所有父评论

>  请求地址: /comments/list

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| videoId |        | Long | 是       | 视频id |          |

```json
{
    "Id":"1",//视频id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
    "data":{
    // barrages对象List集合
    ["id":"1","videoId":"1","accountId":"1","nickName":"小王","avatar":"xxxx.jpg","content":"视频还不错","createTime":"2022-09-22 12:00:00","pid":"null","likes":"222"]
    ["id":"2","videoId":"1","accountId":"2","nickName":"小李","avatar":"xxxx.jpg","content":"视频不错","createTime":"2022-09-22 12:00:08","pid":"null","likes":"221"]
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查找成功 |
| 10140 | 查找评论失败 |
## 根据视频id查找所有评论

>  请求地址: /comments/list1

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| videoId |        | Long | 是       | 视频id |          |

```json
{
    "Id":"1",//视频id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
    "data":{
    // barrages对象List集合
    ["id":"1","videoId":"1","accountId":"1","nickName":"小王","avatar":"xxxx.jpg","content":"视频还不错","createTime":"2022-09-22 12:00:00","pid":"null","likes":"222"]
    ["id":"2","videoId":"1","accountId":"2","nickName":"小李","avatar":"xxxx.jpg","content":"视频不错","createTime":"2022-09-22 12:00:08","pid":"1","likes":"221"]
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查找成功 |
| 10145 | 查找评论失败 |
## 添加评论

>  请求地址: /comments/insert

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| videoComment |        | VideoComment | 是       | 视频评论对象 |          |

```json
{
    "videoId":"1",//视频id
    "accountId":"1",//发送者id
    "content":"视频还不错",//评论内容
    "createTime":"2022-09-22 12:00:00",
    "pid":"null",
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"评论成功", // 描述
    // 返回的数据

}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 评论成功 |
| 10145 | 评论失败 |
## 删除评论

>  请求地址: /comments/delComment

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| commentId |        | Long | 是       | 评论id |          |

```json
{
    "commentId":"1",//评论id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"删除成功", // 描述
    // 返回的数据

}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 删除评论成功 |
| 10150 | 删除评论失败 |
## 获取用户总点赞

>  请求地址: /likes

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| id |        | Long | 是       | 用户id |          |

```json
{
    "id":"1",//用户id
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查找成功", // 描述
    // 返回的数据
    "data":{
    "totalNumberOfLikes":"66"//总点赞
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查找成功 |
| 10155 | 查找失败 |
## 查找视频是否被点赞

>  请求地址: /likes/findVideoLike

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| likes |        | Likes | 是       | 点赞对象 |          |

```json
{	
	"videoId":"1"//视频id
    "accountId":"1",//用户id
    "type":"0",//点赞类型 0:视频,1:评论
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"已点赞", // 描述
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 已点赞 |
| 10160 | 未点赞 |
## 查找评论是否被点赞

>  请求地址: /likes/findCommentLike

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| likes |        | Likes | 是       | 点赞对象 |          |

```json
{	
	"commentId":"1"//评论id
    "accountId":"1",//用户id
    "type":"1",//点赞类型 0:视频,1:评论
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"已点赞", // 描述
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 已点赞 |
| 10165 | 未点赞 |
## 添加视频点赞

>  请求地址: /likes/addVideoLike

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| likes |        | Likes | 是       | 点赞对象 |          |

```json
{	
	"videoId":"1"//视频id
    "accountId":"1",//用户id
    "type":"0",//点赞类型 0:视频,1:评论
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"点赞成功", // 描述
    "data":{
    	"videoId":"1"//视频id
    	"accountId":"1",//用户id
    	"type":"0",//点赞类型 0:视频,1:评论
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 点赞成功 |
| 10170 | 点赞失败 |
## 取消视频点赞

>  请求地址: /likes/delVideoLike

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| likes |        | Likes | 是       | 点赞对象 |          |

```json
{	
	"videoId":"1"//视频id
    "accountId":"1",//用户id
    "type":"0",//点赞类型 0:视频,1:评论
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"取消点赞成功", // 描述
    "data":{
    	"videoId":"1"//视频id
    	"accountId":"1",//用户id
    	"type":"0",//点赞类型 0:视频,1:评论
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 取消点赞成功 |
| 10175 | 取消点赞失败 |
## 添加评论点赞

>  请求地址: /likes/addCommentLike

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| likes |        | Likes | 是       | 点赞对象 |          |

```json
{	
	"commentId":"1"//评论id
    "accountId":"1",//用户id
    "type":"1",//点赞类型 0:视频,1:评论
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"点赞成功", // 描述
    "data":{
    	"commentId":"1"//评论id
    	"accountId":"1",//用户id
    	"type":"1",//点赞类型 0:视频,1:评论
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 点赞成功 |
| 10180 | 点赞失败 |
## 取消评论点赞

>  请求地址: /likes/delCommentLike

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| likes |        | Likes | 是       | 点赞对象 |          |

```json
{	
	"commentId":"1"//评论id
    "accountId":"1",//用户id
    "type":"1",//点赞类型 0:视频,1:评论
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"取消点赞成功", // 描述
    "data":{
    	"commentId":"1"//评论id
    	"accountId":"1",//用户id
    	"type":"1",//点赞类型 0:视频,1:评论
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 取消点赞成功 |
| 10185 | 取消点赞失败 |
## 通过交互对象分页查询举报信息

>  请求地址: /report/getReportManageVo

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| reportManageVo |     | ReportManageVo | 是       | 举报对象 |          |

```json
{	
	"videoId":"1"//被举报视频id
    "accountId":"1",//被举报视频发布者id
    "nickName":"小王",//举报人
    "title":"小哥哥"//被举报视频标题
    "coverUrl":"xxxxxxx.jpg",//视频封面地址
    "videoUrl":"xxxxxxx.mp4",//视频内容地址
    "videoType":"1"//被举报视频类型
    "createTime":"2022-09-22 12:00:00",//举报时间
    "typeId":"1",//被举报视频类型列表
    "status":"1",//举报状态
    "accountLogicDelete":"1"//被举报账号是否有效
    "videoLogicDelete":"1",//被举报视频是否有效
    "page":"1",//当前页码
    "pageSize":"10",//每页数据量
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查询成功", // 描述
    "page":"1",//当前页码
    "pageSize":"10",//每页数据量
    //list集合
    "data":{
    	["videoId":"1"//被举报视频id
    "accountId":"1",//被举报视频发布者id
    "nickName":"小王",//举报人
    "title":"小哥哥"//被举报视频标题
    "coverUrl":"xxxxxxx.jpg",//视频封面地址
    "videoUrl":"xxxxxxx.mp4",//视频内容地址
    "videoType":"1"//被举报视频类型
    "createTime":"2022-09-22 12:00:00",//举报时间
    "typeId":"1",//被举报视频类型列表
    "status":"1",//举报状态
    "accountLogicDelete":"1"//被举报账号是否有效
    "videoLogicDelete":"1",//被举报视频是否有效
    "page":"1",//
    "pageSize":"10",//]
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查询成功 |
| 10190 | 数据异常 |
## 通过id修改举报状态（打回举报）

>  请求地址: /report/updateReportStatus

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| report |     | Report | 是       | 举报对象 |          |

```json
{	
	"videoId":"1"//被举报视频id
    "accountId":"1",//被举报视频发布者id
    "nickName":"小王",//举报人昵称
    "coverUrl":"xxxxxxx.jpg",//视频封面地址
    "videoUrl":"xxxxxxx.mp4",//视频内容地址
    "videoType":"1"//被举报视频类型
    "createTime":"2022-09-22 12:00:00",//举报时间
    "typeId":"1",//被举报视频类型列表
    "status":"1",//举报状态：0-审核中,1-已通过,2-未通过

}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"打回成功", // 描述
    
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 打回成功 |
| 10192 | 打回失败 |
## 添加举报

>  请求地址: /report/insert

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| report |     | Report | 是       | 举报对象 |          |

```json
{	
	"videoId":"1"//被举报视频id
    "accountId":"1",//被举报视频发布者id
    "nickName":"小王",//举报人昵称
    "coverUrl":"xxxxxxx.jpg",//视频封面地址
    "videoUrl":"xxxxxxx.mp4",//视频内容地址
    "videoType":"1"//被举报视频类型
    "createTime":"2022-09-22 12:00:00",//举报时间
    "typeId":"1",//被举报视频类型列表

}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"举报信息已提交请耐心等待结果", // 描述
    
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 举报信息已提交请耐心等待结果 |
| 10194 | 你对该视频有一条尚未处理的举报,请耐心等待处理结果 |
## 通过交互对象分页查询举报信息

>  请求地址: /report/list

### 参数

#### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

#### Body

| 参数名      | 默认值 | 类型        | 是否必传 | 描述   | 验证规则 |
| ----------- | ------ | ----------- | -------- | ------ | -------- |
| reportQuery |     | ReportQuery | 是       | 举报查询对象 |          |

```json
{	
	"videoId":"1"//被举报视频id
    "accountId":"1",//被举报视频发布者id
    "nickName":"小王",//举报人
    "title":"小哥哥"//被举报视频标题
    "coverUrl":"xxxxxxx.jpg",//视频封面地址
    "videoUrl":"xxxxxxx.mp4",//视频内容地址
    "createTime":"2022-09-22 12:00:00",//举报时间
    "status":"1",//举报状态:0-正常,1-禁用
}
```
### 响应

```json
{
    "code":0,  // 响应码
    "message":"查询成功", // 描述
    //list集合
    "data":{
    	["videoId":"1"//被举报视频id
    "accountId":"1",//被举报视频发布者id
    "nickName":"小王",//举报人昵称
    "coverUrl":"xxxxxxx.jpg",//视频封面地址
    "videoUrl":"xxxxxxx.mp4",//视频内容地址
    "videoType":"1"//被举报视频类型
    "createTime":"2022-09-22 12:00:00",//举报时间
    "typeId":"1",//被举报视频类型列表]
    }
}
```
### 响应码描述
| 响应码   | 描述     |
|-------|--------|
| 0 | 查询成功 |
| 10196 | 查询失败 |
# 邮件模块

## 发送邮件

> 请求地址:/email/addemail

## 参数

### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

### Body

| 参数名 | 默认值 | 类型   | 是否必传 | 描述   | 验证规则 |
| ------ | ------ | ------ | -------- | ------ | -------- |
| email  |        | String | 是       | 邮箱名 |          |

```
{
	"email":"xxx@xx.com"
}
```



### 响应

```json
{
	"code":0,//响应码
	"message":"查询成功",//描述
	//返回的数据
	"data":{
        "verificationCode":"xxxxxx"//邮箱验证码
	}
}
```

响应码

| 响应码 | 描述               |
| ------ | ------------------ |
| 0      | 发送邮箱验证码成功 |
| 10301  | 发送邮箱验证码失败 |




# 视频模块

## 查看所有视频类型

> 请求地址:/VideoTypes/findVideoTypes

## 参数

### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

### Body

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 | 验证规则 |
| ------ | ------ | ---- | -------- | ---- | -------- |
|        |        |      |          |      |          |

### 响应

```json
{
	"code":0,//响应码
	"message":"查询成功",//描述
	//返回的数据
	"data":{
	//视频类型id和视频类型描述数组
	["id":1,"type":"娱乐"],
	["id":2,"type":"神秘"],
	["id":3,"type":"悬疑"]
	}
}
```

响应码

| 响应码 | 描述     |
| ------ | -------- |
| 0      | 查询成功 |
| 10801  | 查询失败 |

## 查询所有视频

> 请求地址:/video/list

## 参数

### Params

| 参数名 | 默认值 | 类型 | 是否必传 | 描述 |
| ------ | ------ | ---- | -------- | ---- |
|        |        |      |          |      |

### Body

| 参数名   | 默认值 | 类型       | 是否必传 | 描述           | 验证规则 |
| -------- | ------ | ---------- | -------- | -------------- | -------- |
| query    |        | VideoQuery | 是       | 视频表查询对象 |          |
| page     | 1      | int        | 是       | 当前页数       |          |
| pageSize | 10     | int        | 是       | 一页多少条数据 |          |

```
{
	//视频表查询对象
	query{
		"tetle":"奥特曼之我的兄弟叫顺溜",//视频标题
		"type":"喜剧",//视频类型
		//发布时间
		"createTime":{
				["createTime":"2022-12-05 23:59:59"],//在这个时间之后发布的视频
				["createTime":"2022-12-05 23:59:59"]//在这个时间之前发布的视频
					  },
		"views":4566852,//视频播放量
		"likes":852456,//视频点赞量
	}
	page:1,//当前页
	pageSize:10//一页多少条数据
}
```



### 响应

```json
{
	"code":0,//响应码
	"message":"查询成功",//响应码描述
    //返回的结果数组
	"data":{
        //视频表对象
        "Video":["id":1,//视频id
                 "title":"奥特曼之我的兄弟叫顺溜",//视频标题
                 "typeId":0,//视频类型id
                 "type":"喜剧",//视频类型
                 "createTime":"2002-12-05 12:59:59",//视频创建时间
                 "videoUrl":"http:/dsa/dsa.com",//视频地址
                 "coverUrl":"http:/dsa/dsadsda",//视频封面地址
                 "accountId":1,//视频发布者id
                 "nickName":"老刘",//视频发布者昵称
                 //视频发布者信息
                 "account":{
                 	"id":0,//用户id
                 	"username":"老老刘",//用户名;用户名
                 	"nickName":"老刘",//昵称
                 	"avatar":"xxxxx",//头像;头像
                 	"password":"dasdsa"，//密码;密码
                 	"email":"xxx@xx.com",//邮箱;邮箱
                    "createdTime":"2002-12-06 12:59:59",//创建时间;创建时间
                 	"updatedTime":"2002-12-06 12:59:59"，//更新时间;最后更新时间
                 	"status":0,//状态;状态,1正常0禁用
                 	"logicDelete":0,//逻辑删除;0正常，1封禁
                 	"fans":456,//粉丝数
                 	"focus":4685//关注数
                 },
    			 "barrages":1235,
    			 "collections":852,
    			 "status":0,
    			 "comments":852,
    			 "likes":85,
    			 "logicalDelete":0,
    			 "views":852
                ],								
    			["id":1,
                 "title":"奥特曼之我的兄弟叫顺溜",
                 "typeId":0,"type":"喜剧",
                 "createTime":"2002-12-05 12:59:59",
                 "videoUrl":"http:/dsa/dsa.com",
                 "coverUrl":"http:/dsa/dsadsda",
                 "accountId":1,
                 "nickName":"老刘",
                 "account":{
                 	"id":0,
                 	"username":"老老刘",
                 	"nickName":"老刘",
                 	"avatar":"xxxxx",
                 	"password":"dasdsa"，
                 	"email":"xxx@xx.com",
                    "createdTime":"2002-12-06 12:59:59",
                 	"updatedTime":"2002-12-06 12:59:59"，
                 	"status":0,
                 	"logicDelete":0,
                 	"fans":456,
                 	"focus":4685
                 },
    			 "barrages":1235,
    			 "collections":852,
    			 "status":0,
    			 "comments":852,
    			 "likes":85,
    			 "logicalDelete":0,
    			 "views":852
                ]
    }
}
```

响应码

| 响应码 | 描述     |
| ------ | -------- |
| 0      | 查询成功 |
| 10803  | 查询失败 |


# 文件上传

## 文件上传接口

> 请求地址: /file/login

## 参数

### Params

| 参数名   | 默认值 | 类型   | 是否必传 | 描述           | 验证规则 |
| -------- | ------ | ------ | -------- | -------------- | -------- |
| storeDir |        | string | 是       | 文件存储的目录 | 不能为空 |

### Body

| 参数名 | 默认值 | 类型 | 是否必传 | 描述       | 验证规则 |
| ------ | ------ | ---- | -------- | ---------- | -------- |
| file   |        | File | 是       | 上传的文件 | 不能为空 |

## 响应

```json
{
    "code": 0, // 状态码
    "message": "success", // 描述
    "data": {
        "path": "images\\82e95531b8e9d2f0c86e1e910f752e15.png", // 存储路径
        "url": "http://localhost/images\\82e95531b8e9d2f0c86e1e910f752e15.png", // 资源访问路径
        "sign": "82e95531b8e9d2f0c86e1e910f752e15" // 文件签名
    }
}
```

### 响应码描述

| 响应码 | 描述                      |
| ------ | ------------------------- |
| 0      | 表示成功                  |
| 10700  | 上传失败,原因: 未知       |
| 10701  | FTP服务器连接失败         |
| 10702  | 在FTP服务器上创建目录失败 |

